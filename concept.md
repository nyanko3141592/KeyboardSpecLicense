# Webサイト要件定義書：KeySpec Generator

## 1\. プロジェクト概要

自作キーボードの仕様（キー数、ピッチ、形状、スイッチ規格など）を選択するだけで、クリエイティブ・コモンズ・ライセンス風のスタイリッシュな「スペックバッジ画像」を生成・ダウンロードできるWebツール。

## 2\. ターゲットユーザー

  * **自作キーボード設計者**: BOOTHやGitHubでの頒布時にスペックを明示したい。
  * **イベント出展者**: 「キーボードマーケット」などのイベントで卓上に置くPOPを作りたい。
  * **ユーザー**: 自分の愛機の構成をSNSで共有したい。

## 3\. 機能要件 (Functional Requirements)

### 3.1. ジェネレーターコア機能

ユーザーは以下の要素をフォームで入力・選択し、リアルタイムでプレビューを確認できる。

#### A. メインアイコン（左端の大きな円）

  * **役割**: キーボードのアイデンティティ（サイズ・キー数）を示す。
  * **入力**:
      * **タイプ選択**: テキスト（数字） or プリセットアイコン
      * **数値入力**: 「42」「60%」「TKL」など任意の文字（最大3〜4文字）
      * **表示**: `KB` (デフォルト) あるいは 入力された数値

#### B. 属性アイコン（右側に並ぶ円）

  * **仕様**: 最大4〜5個まで選択可能。ドラッグ＆ドロップで順番を入れ替えられると望ましい。
  * **必須レパートリー（アイコンと略称）**:
    1.  **形状 (Shape)**
          * Split (SP): 左右分割
          * Unibody (UB): 一体型
          * Alice (AL): アリス配列
    2.  **キーピッチ (Pitch)** ※重要
          * **数値入力対応**: 「19mm」「19.05」「18mm」「17x18」などを入力し、円の中に文字として表示、または「定規アイコン＋数値」で表現。
    3.  **配列 (Layout)**
          * Row-Stag (RS): ロウスタッガード（横ズレ）
          * Col-Stag (CS): カラムスタッガード（縦ズレ）
          * Ortho (OR): オーソリニア（格子）
    4.  **接続 (Connect)**
          * Wired (WR): 有線のみ
          * Wireless (WL): 無線対応 (BLE/2.4GHz)
    5.  **スイッチ (Switch)**
          * MX Only (MX): MX互換
          * Choc Only (CH): ロープロファイル
          * Hotswap (HS): ホットスワップ対応
    6.  **特殊機能 (Extra)**
          * Trackball (TB): トラックボール
          * Encoder (EC): ロータリーエンコーダー
          * Display (DP): OLED/LCD

#### C. 下部帯テキスト（略称表示）

  * CCライセンスの「BY-NC-SA」にあたる部分。
  * 選択したアイコンに対応する略称（例: `42 - SP - CS - WL - 19mm`）を自動生成して表示。
  * ユーザーが任意に編集可能にする。

### 3.2. 出力・エクスポート機能

  * **PNGダウンロード**:
      * Web用（72dpi / 横幅 800px程度）
      * 印刷用（300dpi / 横幅 2000px程度 / 卓上POP用）
  * **SVGダウンロード**: ベクターデータとしてIllustrator等で編集可能にする。
  * **HTML/Markdownコピー**: GitHubのREADMEやブログに貼り付けるためのコード生成。

### 3.3. UI/UX要件

  * **リアルタイムプレビュー**: 設定を変更した瞬間にCanvasまたはSVGで描画されたバッジが更新されること。
  * **テーマ切り替え**: バッジ自体の色味（白背景/黒背景）を選べるようにする（ダークモード対応のREADME用）。
  * **レスポンシブ**: スマホからでも生成・保存ができること。

-----

## 4\. データ構造・デザイン仕様 (Design Specs)

CCライセンスのパロディとして認識しやすく、かつ視認性を高めるデザインルール。

### 4.1. レイアウト構成

```text
[ 左端ブロック ] [ 属性ブロック(可変) ................. ]
-------------------------------------------------------
|  (O) キー数  |  (o)形状  (o)ピッチ  (o)配列  (o)接続  |  <-- アイコン行 (白背景)
|  KEY COUNT   |   SP        19mm       CS       WL     |  <-- テキスト行 (黒背景)
-------------------------------------------------------
```

### 4.2. アイコンデザイン指針

  * **スタイル**: モノクロ、線画、太めのライン（視認性重視）。
  * **Key Pitchの表現案**:
      * 案A: 左右の矢印 `|<->|` の下に小さく `19mm` と書く。
      * 案B: 円の中に `19mm` という文字だけをタイポグラフィとして配置する（CCの "Zero" マークに近い雰囲気）。

-----

## 5\. 技術スタック案 (Technical Stack)

開発の容易さと、画像生成の柔軟性を考慮した構成案です。

  * **フレームワーク**: Next.js (React) or Vue.js
      * ステート管理がしやすく、コンポーネント指向で作りやすい。
  * **画像生成エンジン**:
      * **SVG**: メインの描画に使用。DOMとして操作できるため、Reactコンポーネントとしてアイコンを管理し、そのまま画像化しやすい。
      * **html-to-image** や **satori** (Vercel): DOM要素をPNG/SVGに変換してダウンロードさせるライブラリ。
  * **ホスティング**: Vercel or GitHub Pages
  * **URL状態保持**:
      * 選択状態をクエリパラメータに変換し、URLをシェアするだけで同じ設定が開けるようにする（例: `?k=42&s=split&p=19&c=wireless`）。

-----

## 6\. 開発ロードマップ

### Phase 1: MVP (Minimum Viable Product)

  * 基本のアイコン（Split, Wireless, MX, Layout）の実装。
  * キー数（左端）のテキスト入力。
  * PNGダウンロード機能。

### Phase 2: カスタマイズ強化

  * キーピッチの数値入力対応（19.05mm, 18mm, 17mm...）。
  * アイコンの並び替え機能（ドラッグ＆ドロップ）。
  * 下部テキストの自由編集。

### Phase 3: "Pro" Features

  * QRコード埋め込み（ビルドガイドや販売ページへのリンク）。
  * ユーザーが独自のSVGアイコンをアップロードして円の中に配置できる機能。