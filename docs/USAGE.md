# KeySpec Generator 使い方メモ

## 主要機能
- **メイン表示**: キー数テキスト（初期値 42）またはローカル画像。画像未設定時はテキストを表示。  
- **ピッチ**: 自由テキスト入力（例: 19mm, 17×18）。帯に載せる略称も任意入力（初期 KP）。  
- **属性アイコン**: カテゴリごとに1つ（複数選カテゴリは複数可）選択。  
- **カスタムアイコン**: 各カテゴリ内の「カスタム画像を選ぶ」でローカル画像をアップロードし、略称を入力して置き換え。  
- **フッター**: 自動生成（略称連結）または手動入力。複数行の場合は自動的に文字サイズを縮小。  
- **エクスポート**: PNG 800 / 2000、SVG。Markdown/HTML コピーボタンあり。  
- **テーマ**: ライト / ダーク。

## 画像差し替え
- ベース画像は `public/*.png`。IDとファイル名の対応は `main.js` の `iconFileMap` を参照。  
  - 例: `compat-mx` → `switch-mx.png`, `feature-ec` → `extra-ec.png`, `feature-dp` → `extra-dp.png`, `firmware-qmk` → `firm-qmk.png`, `firmware-zmk` → `firm-zmk.png`
- カスタムアイコンはアップロードのみ（URL指定なし）。アップロード後に略称入力ダイアログが出る。  
- リセットは同カテゴリ内で別アイコンを選択するか、再読み込みで初期状態に戻せます。

## ファイル構成
- `index.html` … UI 本体（ファイル入力は画面最下部の hidden input）  
- `styles.css` … スタイル  
- `main.js` … 状態管理・SVG描画・ダウンロード処理・カスタムアイコン処理  
- `public/` … アイコンPNG置き場（相対パス参照）  
- `docs/USAGE.md` … この説明

## ユーザーフロー（カスタムアイコン）
1. カテゴリ内の「カスタム画像を選ぶ」をクリック  
2. 画像ファイルを選択  
3. 略称を入力（帯表示用）  
4. 即座にそのカテゴリの選択が置換され、プレビューに反映

## メモ
- 画像は512pxキャンバス・中央寄せに正規化されています。  
- 帯テキスト行数が増えたら自動でフォントサイズが縮みます。  
- メイン円はキー数テキストまたはアップロード画像のどちらか1つを表示。
